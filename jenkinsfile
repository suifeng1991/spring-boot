pipeline {
agent any
stages {
    stage('test'){
    steps{
        sh "env"
    }
    }
    stage ('build'){
        steps {
            git 'https://github.com/suifeng1991/spring-boot.git'
            sh "mvn clean package"
            stash excludes: 'target/', includes: '**', name: 'source'
        }
        }
    stage('yidong'){
        steps{
                    sh "cp /root/.jenkins/workspace/从项目中获取jenkinsfile/target/springboot-0.0.1-SNAPSHOT.jar /home/suifeng/springboot/"
                }
    }
    }
    post {
            always {
                echo 'I will always say Hello again!'
            }
            success{
                echo 'i am success'
            }
            failure{
                echo 'i am success'
            }
        }
}